---
import { getCollection } from "astro:content";
import NavLink from "../atoms/NavLink.astro";

const routes = await getCollection("routes");

const excludedRoutes = ["resources", "snippets"] as const;
---

<div
  class="flex rounded-full bg-white/90 px-3 text-sm font-medium text-zinc-800 shadow-lg shadow-zinc-800/5 ring-1 ring-zinc-900/5 backdrop-blur dark:bg-zinc-800/90 dark:text-zinc-200 dark:ring-white/10"
>
  {
    routes
      .toSorted((a, b) => a.data.order - b.data.order)
      .filter((route) => !excludedRoutes.includes(route.id))
      .map((route) => (
        <NavLink
          href={route.data.href}
          class="group relative block px-3 py-2 capitalize transition-all duration-300 ease-out aria-[current=page]:text-teal-500 hocus:text-teal-500 dark:aria-[current=page]:text-teal-400 dark:hocus:text-teal-400"
        >
          <span>{route.data.text}</span>
          <span class="absolute inset-x-1 -bottom-px hidden h-px bg-gradient-to-r from-teal-500/0 via-teal-500/40 to-teal-500/0 group-aria-[current=page]:inline dark:from-teal-400/0 dark:via-teal-400/40 dark:to-teal-400/0" />
        </NavLink>
      ))
  }
</div>
