---
import { invariant } from "@/helpers/invariant";
import type { HTMLAttributes } from "astro/types";

type Props = RequireSome<HTMLAttributes<"a">, "href">;

const { href: to, ...rest } = Astro.props;

invariant(to, "Invaild URL. Expected %s", "string");

const href = to?.toString();

const props =
  href?.startsWith("/") || href?.startsWith("#") ?
    { ...rest }
  : { ...rest, target: "_blank", rel: "noopener noreferrer" };
---

<a href={href} {...props}>
  <slot />
</a>
